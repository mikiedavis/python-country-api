ssh -i ssh-key-midax-vm1-2023-09-25.key mike@192.168.0.156


http://127.0.0.1:8008/api/v1/health
http://127.0.0.1:8008/api/v1/getcity?country=GBR

severs will be private subnets
edit security groups 

Run
python3 app.py
pip install cryptography

mkdir
/home
sudo mkdir python-country-api

local deploy
gunicorn -w 4 app:app
http://127.0.0.1:8008

Install on server (VPS)
tutorial
https://github.com/techwithtim/Flask-App-Hosted-On-VPS

apt-get install python3
apt-get install python3-pip
pip install flask

2603.81


NGINX original Config
/etc/nginx/sites-enabled/default -> /etc/nginx/sites-available/default

default file in sites-enabled is linked to /etc/nginx/sites-available/default


scp -r -i ssh-key-midax-vm1-2023-09-25.key ~/development/AZ-204-code/sqlapp/sqlapp/bin/Release/net8.0/publish mike@192.168.0.156:/home/mike/Apps
scp -r -i ssh-key-midax-vm1-2023-09-25.key ~/development/python-country-api mike@192.168.0.156://home/mike/Apps

gunicorn -w 1 python-country-api:app

gunicorn -w 4 app:app
gunicorn -w 1 app:app  


populate requirements.txt
freeze > requirements.txt

pip3 install -r requirements.txt

python -m pip install requests

pip install -r requirements.txt
-U = update if it had already installed
pip install -U -r requirements.txt


service nginx status

Config NGINX

edit file
/etc/hosts


s3 bucket
bucket is a database
Objects are peices of data in the bucket
any types of files can be added to the bucket
filename is the key of the Objects
pip install boto3

gunicorn -w 4 app:app

gunicorn -w 1 app:app

certbot


deployments steps

create the infrastructure - cloud formation VPC
create database 
execute create script
use elastic 


on server
--python services 
ps -ef | grep python 
pstree

kill -9 <pid number>


